(function(t){function s(s){for(var a,o,r=s[0],c=s[1],l=s[2],d=0,p=[];d<r.length;d++)o=r[d],i[o]&&p.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(s);while(p.length)p.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var t,s=0;s<n.length;s++){for(var e=n[s],a=!0,r=1;r<e.length;r++){var c=e[r];0!==i[c]&&(a=!1)}a&&(n.splice(s--,1),t=o(o.s=e[0]))}return t}var a={},i={app:0},n=[];function o(s){if(a[s])return a[s].exports;var e=a[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=a,o.d=function(t,s,e){o.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,s){if(1&s&&(t=o(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var a in t)o.d(e,a,function(s){return t[s]}.bind(null,a));return e},o.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(s,"a",s),s},o.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=s,r=r.slice();for(var l=0;l<r.length;l++)s(r[l]);var u=c;n.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},1632:function(t,s,e){"use strict";var a=e("ed53"),i=e.n(a);i.a},"49fd":function(t,s,e){},"4b59":function(t,s,e){},"565e":function(t,s,e){},"56d7":function(t,s,e){"use strict";e.r(s);e("cadf"),e("551c"),e("f751"),e("097d");var a=e("2b0e"),i=e("8c4f"),n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goods"},[e("div",{ref:"menuWrapper",staticClass:"menu-wrapper"},[e("ul",t._l(t.goods,function(s,a){return e("li",{key:a,class:{current:t.currentIndex===a},on:{click:function(s){return t.selectFood(a)}}},[e("span",{staticClass:"text"},[e("span",{directives:[{name:"show",rawName:"v-show",value:s.type>=0,expression:"item.type>=0"}],staticClass:"icon",class:t.classMap[s.type]}),e("span",{staticClass:"titlex"},[t._v(t._s(s.name))])])])}),0)]),e("div",{ref:"foodsWrapper",staticClass:"foods-wrapper"},[e("ul",t._l(t.goods,function(s,a){return e("li",{key:a,staticClass:"foods-list foods-list-hook"},[e("h2",{staticClass:"title"},[t._v(t._s(s.name))]),t._l(s.foods,function(s,a){return e("div",{key:a,staticClass:"foods-item"},[e("div",{staticStyle:{display:"flex",flex:"1"},on:{click:function(e){return t.detaile(s)}}},[e("div",{staticClass:"item-left"},[e("img",{attrs:{src:s.icon,alt:""}})]),e("div",{staticClass:"item-right"},[e("h2",{staticClass:"name"},[t._v(t._s(s.name))]),e("p",{staticClass:"desc"},[t._v(t._s(s.description))]),e("p",{staticClass:"desc"},[e("span",{staticClass:"count"},[t._v("月售"+t._s(s.sellCount))]),e("span",{staticClass:"rating"},[t._v("好评率"+t._s(s.rating)+"%")])]),e("p",{staticClass:"price"},[e("span",{staticClass:"now"},[e("span",[t._v("￥")]),t._v("\n                  "+t._s(s.price)+"\n                ")]),e("span",{directives:[{name:"show",rawName:"v-show",value:s.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[t._v("￥"+t._s(s.oldPrice))])])])]),e("div",{staticClass:"cart-control"},[e("cartControl",{attrs:{food:s}})],1)])})],2)}),0)]),e("shopcart",{ref:"shopCart",attrs:{minPrice:t.seller.minPrice,deliveryPrice:t.seller.deliveryPrice,foodList:t.selectFoods}}),e("food",{ref:"food",attrs:{food:t.foodDetaile}})],1)},o=[],r=(e("ac6a"),function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shopcart"},[e("div",{staticClass:"content"},[e("div",{staticClass:"content-left"},[e("span",{staticClass:"cart",on:{click:t.showCartList}},[e("span",{staticClass:"icon",class:{active:t.foodList.length}},[e("i",{staticClass:"icon-shopping_cart"})])]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.totalNumber>0,expression:"totalNumber>0"}],staticClass:"count"},[t._v(t._s(t.totalNumber))]),e("span",{staticClass:"price"},[t._v("￥"+t._s(t.totalPrice))]),e("span",{staticClass:"delivery-price"},[t._v("另需配送费￥"+t._s(t.deliveryPrice)+"元")])]),e("div",{staticClass:"content-right"},[0===t.totalPrice?e("span",[t._v("￥20元起送")]):t.totalPrice<t.minPrice?e("span",[t._v("还差￥"+t._s(t.minPrice-t.totalPrice)+"起送")]):e("span",{staticClass:"active",on:{click:t.toPay}},[t._v("去结算")])])]),e("div",{staticClass:"ball-wrapper"},[e("transition-group",{attrs:{name:"drop"},on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},t._l(t.balls,function(t,s){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"ball.show"}],key:s,staticClass:"ball"},[e("div",{staticClass:"inner inner-hook"})])}),0)],1),e("transition",{attrs:{name:"fold"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"cart-list"},[e("div",{staticClass:"cart-content"},[e("div",{staticClass:"cart-title"},[e("span",{staticClass:"name"},[t._v("购物车")]),e("span",{staticClass:"empty",on:{click:t.empty}},[t._v("清空")])]),e("div",{ref:"foodContent",staticClass:"food-list"},[e("ul",t._l(t.foodList,function(s,a){return e("li",{directives:[{name:"show",rawName:"v-show",value:s.count>0,expression:"food.count>0"}],key:a,staticClass:"food-item"},[e("span",{staticClass:"food-name"},[t._v(t._s(s.name))]),e("span",[e("span",{staticClass:"price"},[e("span",{staticClass:"icon"},[t._v("￥")]),t._v("\n                  "+t._s(s.price)+"\n                ")]),e("span",{staticClass:"count"},[t._v(t._s(s.count))]),e("cartControl",{attrs:{food:s}})],1)])}),0)])])])]),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"mask",on:{click:t.showCartList}})])],1)}),c=[],l=(e("c5f6"),e("1fba")),u=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"cartWrapper",staticClass:"car-control-wrapper"},[e("transition",{attrs:{name:"move"}},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.food.count,expression:"food.count"}],staticClass:"decrease move-transition"},[e("span",{staticClass:"inner icon-remove_circle_outline",on:{click:t.decrease}})])]),t.food.count?e("span",{staticClass:"count"},[t._v(t._s(t.food.count))]):t._e(),e("span",{staticClass:"icon-add_circle",on:{click:t.add}})],1)},d=[],p=new a["a"],f={props:["food"],methods:{add:function(){this.food.count?this.food.count++:a["a"].set(this.food,"count",1),p.$emit("cart-add",this.$refs.cartWrapper)},decrease:function(){this.food.count&&this.food.count--}}},v=f,h=(e("f997"),e("2877")),C=Object(h["a"])(v,u,d,!1,null,"4223633b",null),_=C.exports,m={props:{minPrice:{type:Number,default:20},deliveryPrice:{type:Number,default:4},foodList:{type:Array,default:function(){return[{name:"鱼香肉丝",count:1,price:2}]}}},components:{cartControl:_},data:function(){return{showList:!1,balls:[{show:!1},{show:!1},{show:!1},{show:!1},{show:!1},{show:!1},{show:!1},{show:!1}],dropBalls:[]}},computed:{totalPrice:function(){for(var t=0,s=0;s<this.foodList.length;s++)t+=this.foodList[s].price*this.foodList[s].count;return t},totalNumber:function(){for(var t=0,s=0;s<this.foodList.length;s++)t+=this.foodList[s].count;return t},show:function(){var t=this,s=this.showList;return s&&(this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new l["a"](t.$refs.foodContent,{click:!0})}),0===this.totalNumber)?(this.showList=!1,!1):s}},methods:{toPay:function(){alert(this.totalPrice)},showCartList:function(){this.totalNumber>0&&(this.showList=!this.showList)},empty:function(){this.foodList.forEach(function(t){t.count=0}),this.showList=!1},drop:function(t){for(var s=0;s<this.balls.length;s++){var e=this.balls[s];if(!e.show)return e.show=!0,e.el=t,void this.dropBalls.push(e)}},beforeEnter:function(t){var s=this.balls.length;while(s--){var e=this.balls[s];if(e.show){var a=e.el.getBoundingClientRect(),i=a.left+20,n=-(window.innerHeight-a.top-40);t.style.transform="translate3d(0,".concat(n,"px,0)");var o=t.querySelector(".inner-hook");o.style.transform="translate3d(".concat(i,"px,0,0)")}}},enter:function(t,s){t.offsetwidth;this.$nextTick(function(){var s=t.querySelector(".inner-hook");s.style.transform="translate3d(0,0,0)",t.style.transform="translate3d(0,0,0)"}),setTimeout(function(){s()},400)},afterEnter:function(t){var s=this.dropBalls.shift();s&&(s.show=!1)}}},g=m,w=(e("a9d6"),Object(h["a"])(g,r,c,!1,null,"5bc17787",null)),y=w.exports,b=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"move"}},[t.food?e("div",{directives:[{name:"show",rawName:"v-show",value:t.showList,expression:"showList"}],ref:"food",staticClass:"food"},[e("div",{staticClass:"food-content"},[e("div",{staticClass:"image-header"},[e("img",{attrs:{src:t.food.image,alt:"",width:"100%"}}),e("div",{staticClass:"back"},[e("span",{staticClass:"icon-arrow_lift",on:{click:t.hide}})])]),e("div",{staticClass:"content"},[e("h1",{staticClass:"title"},[t._v(t._s(t.food.name))]),e("div",{staticClass:"detailfood"},[e("span",{staticClass:"sell-count"},[t._v("月售"+t._s(t.food.sellCount)+"份")]),e("span",{staticClass:"rating"},[t._v("好评率"+t._s(t.food.rating)+"%")])]),e("div",{staticClass:"price"},[e("span",{staticClass:"now"},[t._v(t._s(t.food.price))]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.food.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[t._v(t._s(t.food.oldPrice))]),e("div",{staticClass:"cartcontrol-wrapper"},[e("cartcontrol",{attrs:{food:t.food}})],1),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.food.count,expression:"!food.count"}],staticClass:"buy",on:{click:t.showCartControl}},[t._v("加入购物车")])])],1)]),e("split"),e("div",{staticClass:"food-info"},[e("h2",[t._v("商品介绍")]),e("p",[t._v(t._s(t.food.info))])]),e("split"),e("div",{staticClass:"rating"},[e("h2",{staticClass:"title"},[t._v("商品评价")]),e("selectRating",{attrs:{ratings:t.food.ratings},on:{"select-rating-type":t.selectRatingType,"toggle-text":t.toggleText}}),e("div",{staticClass:"rating-wrapper"},[e("ul",t._l(t.food.ratings,function(s,a){return e("li",{directives:[{name:"show",rawName:"v-show",value:t.needshow(s.rateType,s.text),expression:"needshow(rating.rateType,rating.text)"}],key:a,staticClass:"rating-item"},[e("div",{staticClass:"user"},[e("span",{staticClass:"name"},[t._v(t._s(s.username))]),e("img",{staticClass:"avatar",attrs:{src:s.avatar,alt:"",width:"12px",height:"12px"}})]),e("div",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(s.rateTime)))]),e("div",{staticClass:"text"},[e("span",{class:{"icon-thumb_up":0===s.rateType,"icon-thumb_down":1===s.rateType}}),t._v("\n                "+t._s(s.text)+"\n              ")])])}),0),t.food.ratings&&t.food.ratings.length?t._e():e("div",{staticClass:"no-rating"},[t._v("暂无评价")])])],1)],1)]):t._e()])},x=[],k=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"split"})},T=[],S={},$=S,P=(e("1632"),Object(h["a"])($,k,T,!1,null,"c04a396a",null)),O=P.exports,L=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.ratings?e("div",{staticClass:"ratingselect"},[e("div",{staticClass:"rating-type"},[e("span",{staticClass:"block positive",class:{active:2===t.selectType},on:{click:function(s){return t.select(2)}}},[t._v("全部"+t._s(t.ratings.length))]),e("span",{staticClass:"block positive",class:{active:0===t.selectType},on:{click:function(s){return t.select(0)}}},[t._v("推荐"+t._s(t.recommend.length))]),e("span",{staticClass:"block negative",class:{active:1===t.selectType},on:{click:function(s){return t.select(1)}}},[t._v("吐槽"+t._s(t.negative.length))])]),e("div",{staticClass:"switch",class:{on:t.isActive},on:{click:t.showAll}},[e("span",{staticClass:"icon-check_circle"}),e("span",{staticClass:"text"},[t._v("只看有内容的评价")])])]):t._e()},N=[],j={data:function(){return{isActive:!0,selectType:2}},props:{ratings:{type:Array}},computed:{recommend:function(){var t=[];return this.ratings&&this.ratings.forEach(function(s){0===s.rateType&&t.push(s)}),t},negative:function(){var t=[];return this.ratings&&this.ratings.forEach(function(s){1===s.rateType&&t.push(s)}),t}},methods:{showAll:function(){this.isActive=!this.isActive,this.$emit("toggle-text",this.isActive)},select:function(t){this.selectType=t,this.$emit("select-rating-type",t)}}},E=j,M=(e("f926"),Object(h["a"])(E,L,N,!1,null,"e3528e50",null)),D=M.exports,R={components:{cartcontrol:_,split:O,selectRating:D},props:{food:{type:Object}},data:function(){return{showList:!1,selectType:2,toggleContent:!0}},methods:{needshow:function(t,s){return!(!s&&this.toggleContent)&&(2===this.selectType||t===this.selectType)},show:function(){var t=this;this.showList=!0,this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new l["a"](t.$refs.food,{click:!0})})},hide:function(){this.showList=!1},showCartControl:function(){this.$set(this.food,"count",1)},selectRatingType:function(t){var s=this;this.selectType=t,this.$nextTick(function(){s.scroll.refresh()})},toggleText:function(t){var s=this;this.toggleContent=t,this.$nextTick(function(){s.scroll.refresh()})}},filters:{formatDate:function(t){var s=new Date(t),e={year:s.getFullYear(),month:s.getMonth()+1,day:s.getDate(),hour:s.getHours(),minute:s.getMinutes()},a="".concat(e.year,"-").concat(e.month,"-").concat(e.day,"-").concat(e.hour,":").concat(e.minute);return a}}},A=R,W=(e("cc72"),Object(h["a"])(A,b,x,!1,null,"da7d36d8",null)),F=W.exports,H={props:["seller"],components:{shopcart:y,cartControl:_,food:F},data:function(){return{goods:null,classMap:["decrease","discount","special","invoice","guarantee"],heightScroll:[],scrollY:0,foodDetaile:{}}},computed:{currentIndex:function(){for(var t=0;t<this.heightScroll.length;t++){var s=this.heightScroll[t],e=this.heightScroll[t+1];if(!e||this.scrollY<e&&this.scrollY>=s)return t}},selectFoods:function(){var t=[];return this.goods&&this.goods.forEach(function(s){s.foods.forEach(function(s){s.count&&t.push(s)})}),t}},created:function(){var t=this;this.$axios.get("api/goods").then(function(s){0===s.data.errno&&(t.goods=s.data.goods,t.$nextTick(function(){t._initScroll(),t._caicHeight()}))}).catch(function(t){console.log(t)})},mounted:function(){var t=this;p.$on("cart-add",function(s){t._drop(s)})},methods:{selectFood:function(t){var s=this.$refs.foodsWrapper.querySelectorAll(".foods-list-hook");this.foodsScroll.scrollToElement(s[t],200)},detaile:function(t){this.foodDetaile=t,this.$refs.food.show()},_drop:function(t){var s=this;this.$nextTick(function(){s.$refs.shopCart.drop(t)})},_initScroll:function(){var t=this;this.menuScroll=new l["a"](this.$refs.menuWrapper,{click:!0}),this.foodsScroll=new l["a"](this.$refs.foodsWrapper,{click:!0,probeType:3}),this.foodsScroll.on("scroll",function(s){t.scrollY=Math.abs(Math.floor(s.y))})},_caicHeight:function(){var t=this.$refs.foodsWrapper.querySelectorAll(".foods-list-hook"),s=0;this.heightScroll.push(s);for(var e=0;e<t.length;e++)s+=t[e].clientHeight,this.heightScroll.push(s)}}},z=H,I=(e("683d"),Object(h["a"])(z,n,o,!1,null,"09c732e4",null)),Y=I.exports,J=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"ratings",staticClass:"ratings"},[e("div",{staticClass:"rating-content"},[e("div",{staticClass:"overview"},[e("div",{staticClass:"overview-left"},[e("div",{staticClass:"score"},[t._v(t._s(t.seller.score))]),e("div",{staticClass:"title"},[t._v("综合评分")]),e("div",{staticClass:"rank"},[t._v("高于周边商家"+t._s(t.seller.rankRate)+"%")])]),e("div",{staticClass:"overview-right"},[e("div",{staticClass:"score-wrapper"},[e("div",[e("span",{staticClass:"title"},[t._v("服务态度")]),e("span",{staticClass:"star"},[e("star",{attrs:{size:36,score:t.seller.serviceScore}})],1),e("span",{staticClass:"score"},[t._v(t._s(t.seller.serviceScore))])]),e("div",[e("span",{staticClass:"title"},[t._v("商品评分")]),e("span",{staticClass:"star"},[e("star",{attrs:{size:36,score:t.seller.foodScore}})],1),e("span",{staticClass:"score"},[t._v(t._s(t.seller.foodScore))])])]),e("div",{staticClass:"delivery-wrapper"},[e("span",{staticClass:"title"},[t._v("送达时间")]),e("span",{staticClass:"delivery"},[t._v(t._s(t.seller.deliveryTime)+"分钟")])])])]),e("split"),e("selectRating",{attrs:{ratings:t.ratings},on:{"select-rating-type":t.selectRatingType,"toggle-text":t.toggleText}}),e("div",{staticClass:"rating-wrapper"},[t.ratings?e("ul",t._l(t.ratings,function(s,a){return e("li",{directives:[{name:"show",rawName:"v-show",value:t.needshow(s.rateType,s.text),expression:"needshow(rating.rateType,rating.text)"}],key:a,staticClass:"rating-item"},[e("div",{staticClass:"avatar"},[e("span",[e("img",{attrs:{src:s.avatar}})])]),e("div",{staticClass:"content"},[e("span",{staticClass:"name"},[t._v(t._s(s.username))]),e("div",{staticClass:"star-wrapper"},[e("star",{attrs:{size:24,score:s.score}})],1),e("div",{staticClass:"text"},[t._v("\n              "+t._s(s.text)+"\n            ")]),e("div",{staticClass:"recommend"},[e("span",{class:{"icon-thumb_up":0===s.rateType,"icon-thumb_down":1===s.rateType}}),t._l(s.recommend,function(s,a){return e("span",{key:a},[t._v(t._s(s))])})],2),e("div",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(s.rateTime)))])])])}),0):t._e()])],1)])},q=[],B=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{class:t.starType},t._l(t.result,function(t,s){return e("span",{key:s,staticClass:"star-item",class:t})}),0)},U=[],X=5,G="on",K="half",Q="off",V={props:["score","size"],computed:{starType:function(){return"star-"+this.size},result:function(){for(var t=[],s=Math.floor(2*this.score)/2,e=Math.floor(s),a=s-e,i=0;i<e;i++)t.push(G);a&&t.push(K);for(var n=t.length,o=0;o<X-n;o++)t.push(Q);return t}}},Z=V,tt=(e("dbec"),Object(h["a"])(Z,B,U,!1,null,"27a59070",null)),st=tt.exports,et={props:{seller:{type:Object}},data:function(){return{ratings:null,selectType:2,toggleContent:!0}},components:{star:st,split:O,selectRating:D},created:function(){var t=this;this.$axios.get("/api/ratings").then(function(s){0===s.data.errno&&t.$nextTick(function(){t.ratings=s.data.ratings,t.scroll=new l["a"](t.$refs.ratings,{click:!0})})})},methods:{needshow:function(t,s){return!(!s&&this.toggleContent)&&(2===this.selectType||t===this.selectType)},selectRatingType:function(t){this.selectType=t},toggleText:function(t){this.toggleContent=t}},filters:{formatDate:function(t){var s=new Date(t),e={year:s.getFullYear(),month:s.getMonth()+1,day:s.getDate(),hour:s.getHours(),minute:s.getMinutes()},a="".concat(e.year,"-").concat(e.month,"-").concat(e.day,"-").concat(e.hour,":").concat(e.minute);return a}}},at=et,it=(e("da43"),Object(h["a"])(at,J,q,!1,null,"2e8d58fc",null)),nt=it.exports,ot=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"seller",staticClass:"seller"},[e("div",{staticClass:"seller-conent"},[e("div",{staticClass:"overview"},[e("h1",{staticClass:"title"},[t._v(t._s(t.seller.name))]),e("div",{staticClass:"desc"},[e("span",{staticClass:"star"},[e("star",{attrs:{size:36,score:t.seller.score}})],1),e("span",{staticClass:"text"},[t._v("（"+t._s(t.seller.ratingCount)+"）")]),e("span",{staticClass:"text"},[t._v("月售"+t._s(t.seller.sellCount)+"单")])]),e("ul",{staticClass:"remark"},[e("li",{staticClass:"block"},[e("h2",[t._v("起送价")]),e("div",{staticClass:"content"},[e("span",{staticClass:"stress"},[t._v(t._s(t.seller.minPrice))]),t._v("\n            元\n          ")])]),e("li",{staticClass:"block"},[e("h2",[t._v("商家配送")]),e("div",{staticClass:"content"},[e("span",{staticClass:"stress"},[t._v(t._s(t.seller.deliveryPrice))]),t._v("\n            元\n          ")])]),e("li",{staticClass:"block"},[e("h2",[t._v("平均配送时间")]),e("div",{staticClass:"content"},[e("span",{staticClass:"stress"},[t._v(t._s(t.seller.deliveryTime))]),t._v("\n            元\n          ")])])]),e("div",{staticClass:"favorite",on:{click:t.toggleFavorite}},[e("span",{staticClass:"icon-favorite",class:{active:t.favorite}}),e("span",[t._v(t._s(t.favoriteText))])])]),e("split"),e("div",{staticClass:"bulletin"},[e("h1",{staticClass:"title"},[t._v("公告与活动")]),e("div",{staticClass:"content-wrapper"},[e("div",{staticClass:"content"},[t._v(t._s(t.seller.bulletin))])]),e("ul",{staticClass:"supports"},t._l(t.seller.supports,function(s,a){return e("li",{key:a,staticClass:"support-item"},[e("span",{staticClass:"icon",class:t.classMap[s.type]}),e("span",{staticClass:"text"},[t._v(t._s(s.description))])])}),0)]),e("split"),e("div",{staticClass:"pics"},[e("h1",{staticClass:"title"},[t._v("商家实景")]),e("div",{ref:"picWrapper",staticClass:"pic-wrapper"},[e("ul",{ref:"picList",staticClass:"pic-list"},t._l(t.seller.pics,function(t,s){return e("li",{key:s,ref:"picItem",refInFor:!0,staticClass:"pic-item"},[e("img",{attrs:{src:t}})])}),0)])]),e("split"),e("div",{staticClass:"info"},[e("h1",{staticClass:"title"},[t._v("商家信息")]),e("ul",t._l(t.seller.infos,function(s,a){return e("li",{key:a,staticClass:"info-item"},[t._v(t._s(s))])}),0)])],1)])},rt=[];function ct(t,s,e){var a=localStorage._seller_;a?(a=JSON.parse(a),a[t]||(a[t]={})):(a={},a[t]={}),a[t][s]=e,window.localStorage._seller_=JSON.stringify(a),console.log(localStorage)}function lt(t,s,e){var a=window.localStorage._seller_;if(!a)return e;if(a=JSON.parse(a)[t],!a)return e;var i=a[s];return i||e}var ut={props:{seller:{type:Object}},components:{star:st,split:O},data:function(){var t=this;return{classMap:[],favorite:function(){return lt(t.seller.id,"favorite",!1)}()}},computed:{favoriteText:function(){return this.favorite?"已收藏":"收藏"}},created:function(){this.classMap=["decrease","discount","special","invoice","guarantee"]},methods:{toggleFavorite:function(){this.favorite=!this.favorite,ct(this.seller.id,"favorite",this.favorite)},scroll:function(){this.initScroll?this.initScroll.refresh():this.initScroll=new l["a"](this.$refs.seller,{click:!0})},initPics:function(){if(this.seller.pics){var t=120,s=6,e=(t+s)*this.seller.pics.length-s;this.$refs.picList.style.width=e+"px",this.picScroll?this.picScroll.refresh():this.picScroll=new l["a"](this.$refs.picWrapper,{scrollX:!0,eventPassthrough:"vertical"})}}},mounted:function(){var t=this;this.$nextTick(function(){t.scroll(),t.initPics()})},watch:{seller:function(){var t=this;this.$nextTick(function(){t.scroll(),t.initPics()})}}},dt=ut,pt=(e("9869"),Object(h["a"])(dt,ot,rt,!1,null,"17d267cc",null)),ft=pt.exports;a["a"].use(i["a"]);var vt=new i["a"]({routes:[{path:"/",redirect:"/goods"},{path:"/goods",component:Y},{path:"/ratings",component:nt},{path:"/seller",component:ft}]}),ht=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("myHeader",{attrs:{seller:t.seller}}),e("div",{staticClass:"tab"},[e("ul",[e("li",[e("router-link",{attrs:{to:"/goods"}},[t._v("商品")])],1),e("li",[e("router-link",{attrs:{to:"ratings"}},[t._v("评价")])],1),e("li",[e("router-link",{attrs:{to:"/seller"}},[t._v("商家")])],1)])]),e("keep-alive",[e("router-view",{attrs:{seller:t.seller}})],1),e("div",{attrs:{id:"main"}})],1)},Ct=[],_t=(e("28a5"),e("4917"),e("386d"),function(){var t=window.location.search,s={},e=/[?&][^?&]+\=[^?&]+/g,a=t.match(e);return a.forEach(function(t){var e=t.substring(1).split("=");console.log(e);var a=decodeURIComponent(e[0]),i=decodeURIComponent(e[1]);s[a]=i}),console.log(t.match(e)),console.log(s),s}),mt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"header"}},[e("div",{staticClass:"header-wrap"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:t.seller.avatar}})]),e("div",{staticClass:"header-content"},[e("div",{staticClass:"title"},[e("span",{staticClass:"brand"}),e("span",{staticClass:"name"},[t._v(t._s(t.seller.name))])]),e("div",{staticClass:"description"},[t._v(t._s(t.seller.description)+" / "+t._s(t.seller.deliveryTime)+"分钟送达")]),t.seller.supports?e("div",{staticClass:"support"},[e("span",{staticClass:"icon",class:t.classMap[t.seller.supports[0].type]}),e("span",{staticClass:"text"},[t._v(t._s(t.seller.supports[0].description))])]):t._e()]),t.seller.supports?e("div",{staticClass:"support-count",on:{click:t.showDetail}},[e("span",{staticClass:"number"},[t._v(t._s(t.seller.supports.length)+"个")]),e("span",{staticClass:"icon-keyboard_arrow_right"})]):t._e()]),e("div",{staticClass:"bulletin",on:{click:t.showDetail}},[e("span",{staticClass:"icon"}),e("span",{staticClass:"text"},[t._v(t._s(t.seller.bulletin))])]),e("div",{staticClass:"background"},[e("img",{attrs:{src:t.seller.avatar}})]),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"detail"},[e("div",{staticClass:"mask"}),e("div",{staticClass:"detail-wrap"},[e("div",{staticClass:"title"},[t._v(t._s(t.seller.name))]),e("div",{staticClass:"star"},[e("star",{attrs:{score:t.seller.score,size:"48"}})],1),e("div",{staticClass:"info"},[e("div",{staticClass:"info-title"},[e("span",{staticClass:"line"}),e("span",{staticClass:"text"},[t._v("优惠信息")]),e("span",{staticClass:"line"})]),t.seller.supports?e("ul",{staticClass:"info-list"},t._l(t.seller.supports,function(s,a){return e("li",{key:a},[e("span",{staticClass:"icon",class:t.classMap[s.type]}),e("span",{staticClass:"description"},[t._v(t._s(s.description))])])}),0):t._e()]),e("div",{staticClass:"detail-bulletin"},[e("div",{staticClass:"bulletin-title"},[e("span",{staticClass:"line"}),e("span",{staticClass:"text"},[t._v("商家公告")]),e("span",{staticClass:"line"})]),e("p",[t._v(t._s(t.seller.bulletin))])]),e("div",{staticClass:"close"},[e("span",{staticClass:"icon-close",on:{click:t.hideDetail}})])])])])],1)},gt=[],wt={components:{star:st},props:["seller"],data:function(){return{classMap:[],isShow:!1}},created:function(){this.classMap=["decrease","discount","special","invoice","guarantee"]},methods:{showDetail:function(){this.isShow=!0},hideDetail:function(){this.isShow=!1}}},yt=wt,bt=(e("c4aa"),Object(h["a"])(yt,mt,gt,!1,null,"07078400",null)),xt=bt.exports,kt={components:{myHeader:xt},data:function(){return{seller:{id:function(){return _t().id}()}}},created:function(){var t=this;this.$axios.get("/api/seller").then(function(s){t.seller=Object.assign(s.data.seller,t.seller),console.log(t.seller)}).catch(function(t){console.log(t)})}},Tt=kt,St=(e("6968"),Object(h["a"])(Tt,ht,Ct,!1,null,"85a27cc4",null)),$t=St.exports,Pt=e("bc3a"),Ot=e.n(Pt);a["a"].prototype.$axios=Ot.a,a["a"].config.productionTip=!1,new a["a"]({router:vt,render:function(t){return t($t)}}).$mount("#app")},"683d":function(t,s,e){"use strict";var a=e("49fd"),i=e.n(a);i.a},6968:function(t,s,e){"use strict";var a=e("7b10"),i=e.n(a);i.a},"6f82":function(t,s,e){},7317:function(t,s,e){},"7b10":function(t,s,e){},"7b35":function(t,s,e){},9869:function(t,s,e){"use strict";var a=e("4b59"),i=e.n(a);i.a},a9d6:function(t,s,e){"use strict";var a=e("b54e"),i=e.n(a);i.a},b54e:function(t,s,e){},bd77:function(t,s,e){},c4aa:function(t,s,e){"use strict";var a=e("565e"),i=e.n(a);i.a},cc72:function(t,s,e){"use strict";var a=e("f898"),i=e.n(a);i.a},da43:function(t,s,e){"use strict";var a=e("bd77"),i=e.n(a);i.a},dbec:function(t,s,e){"use strict";var a=e("6f82"),i=e.n(a);i.a},ed53:function(t,s,e){},f898:function(t,s,e){},f926:function(t,s,e){"use strict";var a=e("7317"),i=e.n(a);i.a},f997:function(t,s,e){"use strict";var a=e("7b35"),i=e.n(a);i.a}});
//# sourceMappingURL=app.f8bf0d50.js.map